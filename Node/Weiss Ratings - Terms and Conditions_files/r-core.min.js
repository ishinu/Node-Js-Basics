(function(n){Date.prototype.adjustTimezone=function(){return new Date(this.getTime()+this.getTimezoneOffset()*6e4)};Date.prototype.addMonths=function(n){var t=new Date(this),i=Math.floor(n/12),r=n-i*12;return i&&t.setFullYear(t.getFullYear()+i),r&&t.setMonth(t.getMonth()+r),t};window.T=function(t,i){var f,r,u;if(!t||typeof t!="string")return null;if(window.ratLocalization||(window.ratLocalization={}),ratLocalization._cache||(ratLocalization._cache={}),f=ratLocalization._cache[t],f)return f;if(r=t.split("|"),r.length===1&&typeof i=="string")r=[i,t];else if(r.length<2)return t;return r[1]?(i=ratLocalization[r[0]],i&&typeof i=="object"&&(u=i[r[1]],typeof u=="string"))?(ratLocalization._cache[t]=u,u):(window.ratLocalization.clientUpdate===!0&&window.ratLocalization.language==="en"&&n.rat&&n.rat.authenticated&&n.rat.isB&&n.ajax({url:ratDataApiUrl+"/localization",type:"PUT",data:{key:r[0]+"|"+r[1]},success:function(){},error:function(){}}),n.rat&&(ratLocalization._cache[t]=r[1]),r[1]):null};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")});String.prototype.startsWith||(String.prototype.startsWith=function(n){return this.indexOf(n,0)===0});String.prototype.endsWith||(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});String.prototype.right||(String.prototype.right=function(n){return this.substring(Math.max(this.length-n,0))});String.prototype.includes||(String.prototype.includes=function(n,t){return(typeof t!="number"&&(t=0),t+n.length>this.length)?!1:this.indexOf(n,t)!==-1});String.prototype.replaceAll||(String.prototype.replaceAll=function(n,t,i){if(!i)return this.split(n).join(t);for(var f=this.toLowerCase(),e=String(n).toLowerCase(),u=this.toString(),r=f.length;(r=f.lastIndexOf(e,r))!==-1;)u=u.substr(0,r)+t+u.substr(r+e.length),r--;return u});String.prototype.htmlEncode=function(){return this.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};String.prototype.toCamelCase=function(){return this.replace(/\s(.)/g,function(n){return n.toUpperCase()}).replace(/\s/g,"").replace(/^(.)/,function(n){return n.toLowerCase()})};Array.prototype.includes||(Array.prototype.includes=function(n,t){return typeof t!="number"&&(t=0),this.indexOf(n,t)!==-1});Array.from||(Array.from=function(n){var i,t;if(!Array.isArray(n))return undefined;for(i=[],t=0;t<n.length;t++)i.push(n[t]);return i});Array.prototype.removeByValue||(Array.prototype.removeByValue=function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return this.splice(t,1),!0;return!1});typeof Array.prototype.last!="function"&&(Array.prototype.last=function(){return this[this.length-1]});typeof Array.prototype.move!="function"&&(Array.prototype.move=function(t,i){n.rat.arrayMove(this,t,i)});typeof Array.prototype.findIndexOf!="function"&&(Array.prototype.findIndexOf=function(n){if(typeof n!="function")throw"Invalid call, expected a function.";for(var t=0;t<this.length;t++)if(n.call(this,this[t],t))return t;return-1});n.ratObjects={bodyChangedEvent:"ratBodyChangedEvent",userReadyEvent:"ratUserReadyEvent",windowViewportChanged:"ratWindowViewportChanged",startup:[],startupLast:[]};n.ratObjects.chart={color:"#304d89",defaultOptions:{colors:["#7cb5ec"],lang:{thousandsSep:","}},titleColor:"#a16602",subtitleColor:"#304d89",rangeSelectorButtonTheme:{states:{select:{fill:"#d2ddf6"}}},indexesColor:["#304d89","#617fbd","#a6bbe8","#ccd7ed"]};n.ratObjects.Class=function(){};n.ratObjects.Class.extend=function(n){var r=function(){},t,u=this,i=n&&n.init?n.init:function(){u.apply(this,arguments)},f;r.prototype=u.prototype;f=i.fn=i.prototype=new r;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(f[t]=n[t]!=null&&n[t].constructor===Object?extend(!0,{},r.prototype[t],n[t]):n[t]);return f.constructor=i,i.extend=u.extend,i};n.ratObjects.Core=n.ratObjects.Class.extend({init:function(n,t){this.authenticated=n;this.isB=t;var i=sessionStorage.getItem("r-auth")==="1";i&&!n&&(localStorage.clear(),sessionStorage.clear());!i&&n&&sessionStorage.setItem("r-auth","1")},ready:function(){sessionStorage.getItem("r-session")!=="1"&&(sessionStorage.setItem("r-session","1"),this.setCookie("r-t",(new Date).getTimezoneOffset()/60,1));this.initLocalization();this.userInfo();this.startup()},getQuerystring:function(n,t){t=typeof t=="string"&&t?t:window.location.href;var i=RegExp("(^|[?&])"+n+"=([^&]*)","i").exec(t);return i?decodeURIComponent(i[2].replace(/\+/g," ")):null},setQuerystring:function(t,i,r,u){var f,e;return(r=typeof r=="string"?r:window.location.href,i===null||i===undefined)?(r=r.replace(new RegExp("[?&]"+t+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+t+"=[^&]*&"),"$1"),r.replace(/[&;]$/,"")):(typeof i!="string"&&(i=i.toString()),u!==!1&&(i=n.rat.encodeURIComponent(i)),f=new RegExp("(^|[?&])"+t+"=.*?(&|$)","i"),r.match(f))?r.replace(f,"$1"+t+"="+i+"$2"):(e=r.indexOf("?")!==-1?"&":"?",r+e+t+"="+i)},encodeURIComponent:function(n){return typeof n!="string"?null:encodeURIComponent(n).replaceAll("%20","+").replaceAll("%3C","<").replaceAll("%3E",">").replaceAll("%2C",",")},errorMessage:function(n,t){var r,i;if(n&&n!=="string"&&t===undefined&&(t=n,n=""),typeof n!="string"&&(n=""),t&&typeof t=="object")if(t.xhr&&typeof t.xhr=="object"&&(t=t.xhr),t||(t={}),t.responseJSON&&typeof t.responseJSON=="object"&&typeof t.responseJSON.message=="string")t=t.responseJSON.message;else if(typeof t.message=="string")t=t.message;else if(typeof t.errorMessage=="string")t=t.errorMessage;else if(typeof t.statusText=="string"&&t.status)t=t.statusText+" "+t.status;else if(typeof t.statusText=="string")t=t.statusText;else if(Array.isArray(t.modelState))for(r=t.modelState,t="",i=0;i<r.length;i++)r[i].name||(t+=(t?"<br/>":"")+r[i].error);else t="";return n+((n&&t?" ":"")+t)},handleError:function(t,i,r,u){return(t&&typeof t!="string"&&(u=typeof r=="boolean"?r:undefined,r=i,i=t,t=""),typeof r=="boolean"&&(u=r,r=undefined),i||(i={}),i.success!==!1&&(typeof i.status!="number"||i.status===200))?!1:i.statusText==="abort"?!1:(typeof r=="function"&&(r=r()),r&&r instanceof jQuery?(u===!0&&(r=n("<div>").appendTo(r)),r.addClass("alert alert-danger r-error").ratEmpty().append(n("<span>").html(this.errorMessage(t,i)))):this.alertError(t,i),!0)},alertError:function(n,t){return this.alert(this.errorMessage(n,t))},cloneObject:function(t){return n.rat.copyProperties({},t)},copyProperties:function(n,t,i){var h,o,s,u,r,e,f;if(!t||typeof t!="object")return n;typeof i=="string"&&(h=i,i={shouldCopy:function(n){return n.startsWith(h)}});i||(i={});o=typeof i.shouldCopy=="function"?i.shouldCopy:null;s=typeof i.set=="function"?i.set:null;Array.isArray(i.properties)||(i.properties=[]);for(u in t)if(t.hasOwnProperty(u)){if(r=t[u],i.properties.push(u),o&&!o(u,r)){i.properties.pop();continue}if(r)if(Array.isArray(r)){for(e=[],f=0;f<r.length;f++)r[f]&&typeof r[f]=="object"?e.push(this.copyProperties({},r[f],i)):e.push(r[f]);r=e}else typeof r!="object"||r instanceof Date||(r=this.copyProperties({},r,i));s?s(n,u,r):n[u]=r;i.properties.pop()}return n},createWindow:function(t,i){var r,l,f,o,u,s,h,c,e;return t=n.rat.copyMissing(t,{modal:!0,title:"Weiss Ratings",okText:"OK"}),f=n("<div class='r-window-content'><\/div>"),o=n("<div class='r-content'><\/div>"),f.append(o),t.fullWidthButtons!==!1?(s=n("<br/><div class='text-center'><\/div>"),f.append(s),u=n("<div><\/div>"),s.append(u)):(u=n("<div class='btn btn-primary'><\/div>"),f.append(u)),h=function(){r.center()},c=function(n){n.which===27?(n.preventDefault(),t.cancelButton&&!t.cancelButton.attr("disabled")&&t.cancelButton.click()):n.which===13&&(n.preventDefault(),t.enterButton&&!t.enterButton.attr("disabled")&&t.enterButton.click())},t.okButton&&t.okButton.bind("click",function(){r.close()}),e={options:t,container:f,content:o,buttonsContainer:u,open:function(){r.center().open()},close:function(n){l=n;r.close()},center:function(){r.center()},addButton:function(i,r,f,e){var o;return t.fullWidthButtons!==!1?(o=n("<button type=\"button\" style='margin-right:10px;' class='btn btn-primary'><\/button>").html(i),u[e!==!1?"append":"prepend"](o)):(o=n('<button type="button" class="btn btn-secondary"><\/button>').html(i),u[e!==!1?"append":"prepend"](o)),typeof r=="function"&&o.bind("click",r),typeof f=="string"&&o.addClass(f),o}},r=f.kendoWindow({title:t.title,draggable:!1,modal:!0,resizable:!1,animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:200},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:200,hide:!0}},activate:function(){typeof t.activate=="function"?t.activate(e):window.focus()},deactivate:function(){typeof t.deactivate=="function"&&t.deactivate(e);n(window).unbind("resize scroll",h);n(document).unbind("keydown",c);r.destroy();i&&i(l)},open:function(){typeof t.open=="function"&&t.open()}}).data("kendoWindow"),e.kendoWindow=r,r.wrapper.addClass("r-window"),typeof t.cssClass=="string"&&r.wrapper.addClass(t.cssClass),n(window).bind("resize scroll",h),n(document).bind("keydown",c).focus(),e},confirm:function(t,i,r){var u,f,e,s,o;if(r=n.rat.copyMissing(r,{title:"Weiss Ratings",yesText:"Yes",noText:"No",cancelText:"Cancel",cancelVisible:!1,confirmIgnoreCase:!0,modal:!1,cssClass:"r-confirm",allowEnter:!0}),u=n.Stock.createWindow(r,i),e=null,r.yesVisible!==!1&&(e=r.enterButton=u.addButton(r.yesText,function(){u.close(!0)},r.yesClass),r.allowEnter||(r.enterButton=null),r.confirmText&&e.attr("disabled","disabled")),r.noVisible!==!1&&(r.cancelButton=u.addButton(r.noText,function(){u.close(!1)},r.noClass)),r.cancelVisible!==!1&&(r.cancelButton=u.addButton(r.cancelText,function(){u.close(null)},r.cancelClass)),r.alert&&u.content.append(n("<div class='r-alert'><\/div>").append(r.alert)),s=n("<div class='r-message'><\/div>").append(t),u.content.append(s),r.confirmText){f=n("<input type='text' />");u.content.append(n("<div class='r-confirm-input'><\/div>").append(f));o=function(){var n=f.val().trim(),t=r.confirmText.trim();n===t||r.confirmIgnoreCase!==!1&&n.toLocaleLowerCase()===t.toLocaleLowerCase()?e.removeAttr("disabled"):e.attr("disabled","disabled")};f.on("keyup",o);f.on("mouseup",function(){setTimeout(o,1)});setTimeout(function(){f.focus()},100)}u.open()},copyChangedProperties:function(t,i,r){var o,u,f,e;if(!t||typeof t!="object"||!i||typeof i!="object")return t;r&&typeof r=="object"||(r=t);o=typeof i.shouldSerialize=="function";for(u in i)i.hasOwnProperty(u)&&(!o||i.shouldSerialize(u))&&(f=i[u],e=r[u],!e||typeof e!="object"||f instanceof Date?f!==e&&(t[u]=f):(typeof f!="object"&&(f={}),t[u]=typeof e.toJSON=="function"?e.toJSON():this.copyChangedProperties({},f,e),(t[u]===null||t[u]===undefined||typeof t[u]=="object"&&n.isEmptyObject(t[u]))&&delete t[u]));return n.isEmptyObject(t)?null:t},copyMissing:function(n,t){var r,u,i;if(n&&typeof n=="object"||(n={}),!t||typeof t!="object")return n;for(r in t)t.hasOwnProperty(r)&&(u=n[r],i=t[r],!i||typeof i!="object"||i instanceof Date||Array.isArray(i)?u===undefined&&(n[r]=i):n[r]=this.copyMissing(u&&typeof u=="object"?u:{},i));return n},arrayMove:function(n,t,i){var r=n.length,u;return t<0||i<0||t>=r||i>=r?n:(u=Array.prototype.splice.apply(n,[t,1])[0],Array.prototype.splice.apply(n,[i,0,u]),n)},parseFloatEntire:function(n){return/^(\-|\+)?([0-9]*(\.[0-9]+)?|Infinity)$/.test(n)?Number(n):NaN},bodyChanged:function(){n(document.body).trigger(n.ratObjects.bodyChangedEvent)},userInfo:function(){if(!this.authenticated){this.user={authenticated:!1,userKey:null};this.userReady();return}var t=this;n("header .r-button-user-avatar ").on("ratings-remote-ready",function(i){if(i.remoteName==="user"){t.user=n.extend({authenticated:t.authenticated},i.remoteResult||{});t.authenticated=t.user.authenticated;t.userReady();var r=n(document.body).data("access-key"),u=n.rat.getCookie("r-c");r&&u&&r!==u&&!n.rat.getQuerystring("nc")&&(window.location=n.rat.setQuerystring("nc",""+(Math.floor(Math.random()*26)+Date.now()),window.location.href))}})},userIsReady:function(){return typeof this.user=="object"&&this.user},userReady:function(){this.userAvatar();n(document.body).trigger(n.ratObjects.userReadyEvent)},userAvatar:function(){var i=n("header .r-button-user-avatar"),t=i.find("> .r-user-avatar");t.empty();this.user.authenticated?this.user.avatarPhotoUrl?(t.parent().addClass("r-avatar-photo"),t.removeClass().addClass("r-user-avatar r-hoverable r-avatar-photo").prepend(n("<img role='presentation'>").on("load",function(){i.ratBusy(!1)}).on("error",function(){t.find("> img").remove();t.removeClass().addClass("r-user-avatar r-icon r-icon-profile");t.parent().removeClass("r-avatar-photo");i.ratBusy(!1)}).attr("src",this.user.avatarPhotoUrl))):(t.parent().removeClass("r-avatar-photo"),t.removeClass().addClass("r-user-avatar r-hoverable r-avatar-style-"+(this.user.avatarStyle||1)).attr("data-text",(this.user.avatarText||"").toLocaleUpperCase()),i.ratBusy(!1)):(t.removeClass().addClass("r-icon r-icon-profile"),i.ratBusy(!1))},userAvatarChanged:function(t,i){typeof t!="number"&&(t=this.user.avatarStyle);typeof i!="string"&&(i=this.user.avatarPhotoUrl);t===0?(this.user.avatarPhotoUrl=i,delete this.user.avatarStyle):(this.user.avatarStyle=t,delete this.user.avatarPhotoUrl);n("header .r-button-user-avatar").ratBusy({inline:!0,message:""});this.userAvatar();localStorage.setItem("r-remote-user",JSON.stringify(this.user))},fireWindowViewportChanged:function(){clearTimeout(this._windowViewportChangedId);this._windowViewportChangedId=setTimeout(function(){n(document.body).trigger(n.ratObjects.windowViewportChanged)},500)},alert:function(t,i){var r=n.Deferred(),u;return n.rat.__alertVisible===!0?(setTimeout(function(){r.reject()},0),r.promise()):(i=n.extend({title:T("Ratings.Common|Weiss Ratings"),okText:T("Ratings.Common|OK"),enterOnCancel:!0,onRender:function(i){i.append(n("<div class='r-message'>").html(t))}},i||{}),u=this.dialog(i),u.enterButton(i.okText,u.hide),u.show(),n.rat.__alertVisible=!0,u.on.done(function(t){delete n.rat.__alertVisible;r.resolve(t)}).fail(function(t){delete n.rat.__alertVisible;r.reject(t)}),r.promise())},confirm:function(t,i){i=n.extend({title:T("Ratings.Common|Weiss Ratings"),yesText:T("Ratings.Common|Yes"),noText:T("Ratings.Common|No"),onRender:function(i){i.append(n("<div class='r-message'>").html(t))}},i||{});i.cssClass=(i.cssClass?" ":"")+"r-confirm";var r=this.dialog(i);return r.addButton(i.yesText,function(){r.hide(!0)},i.yesCssClass||"btn-primary"),r.cancelButton(i.noText,function(){r.hide(!1)},i.noCssClass||"btn-link"),r.show(),r.on},dialog:function(t){var f,c,l,o,s;t=n.extend({keyboard:!1,show:!1,enterOnCancel:!1,title:"Weiss Ratings",onRender:function(){}},t||{});var r=this,a=n.Deferred(),e=undefined,u,h,i=n("<div class='modal fade r-modal' tabindex='-1' role='dialog' aria-hidden='true'>").append(n("<div class='modal-dialog modal-dialog-centered' role='document'>").append(n("<div class='modal-content'>").append(n("<div class='modal-header'>").append(n("<h1 class='modal-title'>").text(t.title),n("<button type='button' class='close' data-dismiss='modal'><span aria-hidden='true'>&times;<\/span><\/button>").attr("aria-label",T("Ratings.Common|Close"))),u=n("<div class='modal-body'>"),h=n("<div class='modal-footer'>").attr("hidden",t.noFooter===!0?"hidden":null)))).on("show.bs.modal",function(){if(typeof t.onShow=="function")t.onShow(i,u)}).on("shown.bs.modal",function(){if(n.rat.startup(!1,i),typeof t.onShown=="function")t.onShown(i,u);if(typeof t.onActivate=="function")t.onActivate(i,u)}).on("hide.bs.modal",function(){if(typeof t.onHide=="function")t.onHide(i,u,e);a.resolve(e)}).on("hidden.bs.modal",function(){if(typeof t.onHidden=="function")t.onHidden(i,u,e);if(r._dialogStack.length===1)n(document).unbind("keydown",r._dialogKeydown),delete r._dialogKeydown,delete r._dialogStack;else{r._dialogStack.splice(r._dialogStack.length-1,1);n(document.body).addClass("modal-open");var f=r._dialogStack[r._dialogStack.length-1];if(typeof f.options.onActivate=="function")f.options.onActivate(f.$modal,f.$body)}n(this).remove()});t.cssClass&&typeof t.cssClass=="string"&&i.addClass(t.cssClass);f={on:a.promise(),options:t,buttons:[],$modal:i,$body:u,$footer:h,busy:function(n){n===!1?(i.find("[data-was-enable='true']").removeAttr("data-was-enable").removeAttr("disabled"),i.find(".modal-content").ratBusy(!1)):(i.find("input:not([disabled]), button:not([disabled])").attr("data-was-enable","true").attr("disabled","disabled"),i.find(".modal-content").ratBusy({fill:!0,translucent:!0,message:n}))},show:function(){i.modal("show")},hide:function(n){e=n;i.modal("hide")},addButton:function(t,i,r,u){var e=n("<button type='button' class='btn' data-dismiss='modal'>").html(t);return h[u!==!1?"append":"prepend"](e),r||(r="btn-link"),typeof i=="function"&&e.bind("click",i),typeof r=="string"&&e.addClass(r),f.buttons.push(e),e},enterButton:function(n,i,r){t.enterButton=f.addButton(n,i,r)},cancelButton:function(n,i,r){t.cancelButton=f.addButton(n||T("Ratings.Common|Cancel"),i||function(){f.hide(null)},r)}};t.onRender(u,f);if(i.modal({backdrop:"static",keyboard:t.keyboard,show:t.show}),this._dialogKeydown||(this._dialogStack=[],this._dialogKeydown=n.proxy(this.dialogKeydown,this),n(document).bind("keydown",this._dialogKeydown)),this._dialogStack.length>0)for(c=this._dialogStack[this._dialogStack.length-1],c._$modal=n("body > div.modal:not(.r-known)").addClass("r-known"),c._$modalBackdrop=n("body > div.modal-backdrop:not(.r-known)").addClass("r-known"),l=1010,o=0;o<this._dialogStack.length;o++)s=this._dialogStack[o],s._$modalBackdrop&&(s._$modalBackdrop.css({"z-index":l++}),s._$modal.css({"z-index":l++}));return this._dialogStack.push(f),f},dialogKeydown:function(t){var r,i,u;if(Array.isArray(this._dialogStack)&&this._dialogStack.length!==0&&(r=this._dialogStack[this._dialogStack.length-1],i=r.options,i.busy!==!0))if(t.which===27){if(t.isPropagationStopped())return;t.preventDefault();t.stopPropagation();i.cancelButton&&!i.cancelButton.attr("disabled")?i.cancelButton.click():i.enterOnCancel&&i.enterButton&&!i.enterButton.attr("disabled")&&i.enterButton.click()}else if(t.which===13){if(t.isPropagationStopped())return;if(u=n(":focus"),u.hasClass("r-accept-enter"))return;t.preventDefault();t.stopPropagation();i.enterButton&&!i.enterButton.attr("disabled")&&i.enterButton.click()}},signInForm:function(t){if(!this._signInFormVisible){this._signInFormVisible=!0;var r=this,i=t&&typeof t=="object"&&t.target?n.rat.getQuerystring("r",n(t.target).ratFindIncludeSelf("a").attr("href")):null;this.dialog({title:T("Ratings.Anonymous|Sign In"),cssClass:"r-modal-sign-in",noFooter:!0,show:!0,onRender:function(t){t.append(n("#r-sign-in-form").html())},onShown:function(t){var r=t.find("form");i&&typeof i=="string"&&r.attr("action",n.rat.setQuerystring("r",i,r.attr("action")));r.data("ratForm").focusFirstInput()},onHide:function(){delete r._signInFormVisible}})}},startup:function(t,i){var u,r;if(Array.isArray(n.ratObjects.startup)){if(i instanceof jQuery){i.ratFindIncludeSelf(".r-startup").each(function(t,i){var r=n(i),u,f;if(r.parent().is(":visible")&&!r.data("r-startup-init")){r.data("r-startup-init",!0);try{u=r.html();typeof u=="string"&&(f=new Function(u),f())}catch(e){}}});return}for(n(".r-startup").each(function(t,i){var r=n(i),u;if(r.parent().is(":visible")&&!r.data("r-startup-init")){r.data("r-startup-init",!0);try{u=r.html();typeof u=="string"&&n.ratObjects.startup.push({callback:new Function(u),onBodyChange:r.hasClass("r-body-change")})}catch(f){console&&console.error&&console.error(f)}}}),u=0;u<n.ratObjects.startup.length;u++)if(r=n.ratObjects.startup[u],typeof r=="function"){if(!t)try{r()}catch(f){console&&console.error&&console.error(f)}}else if(r&&typeof r=="object"&&typeof r.callback=="function"&&(!t||r.onBodyChange===!0))try{r.callback()}catch(e){console&&console.error&&console.error(e)}n.ratObjects.startupLast.length>0&&setTimeout(function(){for(var i,t=0;t<n.ratObjects.startupLast.length;t++)i=n.ratObjects.startupLast[t],typeof i=="function"&&i();n.ratObjects.startupLast=[]},0)}},getCookie:function(n){var r,i,t;for(n=n+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(t=r[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(n)===0)return t.substring(n.length,t.length)}return null},setCookie:function(n,t,i){var u,r;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+";SameSite=Scrict;Secure;path=/"},deleteCookie:function(n){this.setCookie(n,"",-1)},getStateCookie:function(){var i=n(document.body).data("view-name"),t;return i?(t=n.rat.getCookie("r-s"),!t||typeof t!="string")?null:t.startsWith(i+":")?t.substring(i.length+1):null:undefined},setStateCookie:function(t){var i=n(document.body).data("view-name");i&&(t===null||t===undefined?n.rat.deleteCookie("r-s"):n.rat.setCookie("r-s",i+":"+t))},normalizeValue:function(n){return n===null||n===undefined?null:typeof n=="string"?n.toLocaleLowerCase():n.toString().toLocaleLowerCase()},initLocalization:function(){window.ratLocalization&&(window.numeral&&window.ratLocalization.numeral&&(delete numeral.locales[ratLocalization.language],ratLocalization.numeral.currency={symbol:"$"},numeral.register("locale",ratLocalization.language,ratLocalization.numeral),numeral.locale(ratLocalization.language)),ratLocalization.kendo&&(kendo.cultures[ratLocalization.language]=ratLocalization.kendo,kendo.culture(ratLocalization.language)),window.moment&&typeof moment=="function"&&ratLocalization.time.relative&&moment.defineLocale("rat",{relativeTime:ratLocalization.time.relative}),window.Highcharts)}});n.ratObjects.RatView=n.ratObjects.Class.extend({init:function(n){this._$element=n}});n.ratInit=function(t,i){n.rat=new n.ratObjects.Core(t,i);n.rat.ready()};n.fn.wrapInTag=function(t){var i=t.tag||"b",r=t.words||[],u=RegExp(r.join("|"),"gi"),f="<"+i+">$&<\/"+i+">";return this.html(function(){return n(this).text().replace(u,f)})};n.fn.ratAppendError=function(t,i){t&&typeof t=="object"&&(t=t.statusText||t.error||t.message);var r=n("<div class='r-message r-error r-block'><\/div>").html(t);return i!==!1&&this.empty(),this.append(r)};n.fn.ratBusy=function(t){var s=this,i=this.find("> .r-busy"),u,f,r,e,o;return t===!1?(u=i.data("r-busy-count"),typeof u!="number"&&(u=1),f=n.Deferred(),r=i.data("r-busy-defers"),Array.isArray(r)?r.push(f):i.data("r-busy-defers",r=[f]),--u>0?i.data("r-busy-count",u):(this.each(function(){var t=n(this),i=t.data("__RatBusy_reenable");i&&(i.removeAttr("disabled"),t.removeData("__RatBusy_reenable"))}),this.removeClass("r-is-busy"),i.addClass("r-hiding").ratFadeOutRemove().done(function(){for(defIdx=0;defIdx<r.length;defIdx++)r[defIdx].resolve(s)})),f.promise()):(typeof t=="number"&&(t===1?t={message:T("Ratings.Common|Loading...")}:t===2&&(t={message:"",inline:!0,translucent:!0})),typeof t=="string"&&(t={message:t}),t||(t={}),i.length)?(i.data("r-busy-count")===undefined&&i.data("r-busy-count",2),t.breakChain===!0?i:this):(t.message===undefined&&(t.message=T("Ratings.Common|Loading...")),i=n("<div class='r-busy'>").data("r-busy-count",1),e=n("<div class='r-busy-inner'>").appendTo(i),n("<div class='r-spinner'><\/div>").appendTo(e),typeof t.message=="string"&&t.message.length&&n("<div class='r-message'>").text(t.message).appendTo(e),t.fill!==!1&&i.addClass("r-fill"),t.inline&&i.addClass("r-inline"),t.translucent&&i.addClass("r-translucent"),typeof t.className=="string"&&i.addClass(t.className),o=typeof t.selector=="string"?this.find(t.selector):this,o.append(i),this.addClass("r-is-busy"),t.autoDisable!==!1&&this.each(function(){var t=n(this),i=t.find("input:not(:disabled), button:not(:disabled), select:not(:disabled)").attr("disabled","disabled");i.length>0&&t.data("__RatBusy_reenable",i)}),t.breakChain===!0?i:this)};n.fn.ratEmpty=function(n){return n&&typeof n=="string"||(n=".r-busy,.r-empty"),this.find("> :not("+n+")").remove(),this};n.fn.ratFadeOutRemove=function(t){var i=n.Deferred();return this.fadeOut(t||250,function(){n(this).remove();i.resolve()}),i.promise()};n.fn.ratOuterHTML=function(){return n("<div>").append(this).html()};n.fn.ratIsInViewport=function(t,i){typeof t=="boolean"?(i=t,t=0):typeof t!="number"&&(t=0);var r=n(this).offset().top,f=r+n(this).outerHeight(),u=n(window).scrollTop()+t,e=u+n(window).height()-t;return i!==!1?r>=u&&f<=e:r>=u&&r<=e||f>=u&&f<=e};n.fn.ratScrollToTop=function(t){var i=n.Deferred();return this.ratIsInViewport(t)?(setTimeout(function(){i.resolve(!1)},0),i.promise()):(typeof t!="number"&&(t=0),n("html, body").animate({scrollTop:this.offset().top-t},"fast",function(){i.resolve(!0)}),i.promise())};n.fn.ratScrollToBottom=function(t){var i=n.Deferred();if(this.ratIsInViewport())return setTimeout(function(){i.resolve(!1)},0),i.promise();typeof t!="number"&&(t=0);var r=this.offset().top,u=this.outerHeight(),f=n(window).height();return n("html, body").animate({scrollTop:r-f+u+t},"fast",function(){i.resolve(!0)}),i.promise()};n.fn.ratFocusFirstInput=function(t){var i=this.find(":input:not([readonly='readonly']):visible:enabled"),r;return i.length?(t===!0?(r=i.filter(function(){return!n(this).val()}),i=r.length?r.first():i.first()):i=i.first(),i.ratIsInViewport()||i.ratScrollToBottom(),i.focus(),this):this};n.fn.ratInputAutoChange=function(t,i){return typeof t!="function"?this:((typeof i!="number"||i<0)&&(i=400),this.each(function(){var r=n(this),u={init:function(r){this.$element=r;this.callback=t;r._ratValue=r.val();r.bind("keyup",function(n){if(typeof r._ratChangeTimer=="number"&&clearTimeout(r._ratChangeTimer),n.originalEvent.keyCode===13){n.preventDefault();n.stopPropagation();t(r,!0);return}r._ratChangeTimer=setTimeout(function(){r._ratChangeTimer=null;r._ratValue!==r.val()&&(r._ratValue=r.val(),t(r,!1))},i)}).bind("mouseup",n.proxy(this._scheduleChange,this)).bind("change",n.proxy(this._scheduleChange,this))},_scheduleChange:function(){var n=this;setTimeout(function(){n.$element._ratValue!==n.$element.val()&&(typeof n.$element._ratChangeTimer=="number"&&clearTimeout(n.$element._ratChangeTimer),n.$element._ratChangeTimer=null,n.$element._ratValue=n.$element.val(),n.callback(n.$element,!1))},0)}};u.init(r);r.data("ratInputAutoChange",u)}),this)};n.fn.ratBlink=function(n,t){for(n=n||2,t=t||300;n--;)this.fadeTo(t,0).fadeTo(t,1);return this};n.fn.ratFindIncludeSelf=function(n){return this.find(n).addBack(n)};n.fn.ratIsAutofill=function(){try{return this.is(":-webkit-autofill")}catch(n){return!1}};n.fn.ratSetSelectionRange=function(n,t){var u,i,r;return typeof this.length!="number"?this:(u=this.val()||this.attr("value")||"",typeof n!="number"&&(n=0),typeof t!="number"&&(t=u.length),this.is(":focus")||this.focus(),i=this[0],i.setSelectionRange?i.setSelectionRange(n,t):i.createTextRange&&(r=i.createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select()),this)};jQuery.fn.bstooltip=jQuery.fn.tooltip})(jQuery),function(){function t(n,t){var r,i,u;for(t=t.match(/(?:\\\.|[^.])+(?=\.|$)/gi),r=t.shift(),i=jQuery.data(n)[r],i||(u=n.attributes["data-"+r],u&&(i=u.value));i&&t[0];)r=t.shift(),i=i[r];return i===undefined||i===null?undefined:i}var n=/\s*(.*?)\s*([!~><=]=|[><])\s*(.*)/gi;jQuery.expr[":"].ratData=function(i,r,u){n.lastIndex=0;for(var c=u[3],s,f,e,h=null,o=!1;s=n.exec(c);){f=s[3];e=t(i,s[1]);typeof e=="number"&&(f=parseFloat(f));switch(s[2]){case"==":o=e===f;break;case"!=":o=e!==f;break;case"<=":o=e<=f;break;case">=":o=e>=f;break;case"~=":o=RegExp(f).test(e);break;case">":o=e>f;break;case"<":o=e<f;break;default:s[5]&&(o=!!e)}h=h===null?o:h&&o}return h}}(),function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(n):typeof define=="function"&&define.amd?define(t):t(n)}(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:this,function(n){"use strict";var s,h,i,e;if(n=n||{},s=n.Base64,h="2.5.2",typeof module!="undefined"&&module.exports)try{i=eval("require('buffer').Buffer")}catch(ut){i=undefined}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(n){for(var i={},t=0,r=n.length;t<r;t++)i[n.charAt(t)]=t;return i}(r),t=String.fromCharCode,p=function(n){var i;return n.length<2?(i=n.charCodeAt(0),i<128?n:i<2048?t(192|i>>>6)+t(128|i&63):t(224|i>>>12&15)+t(128|i>>>6&63)+t(128|i&63)):(i=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320),t(240|i>>>18&7)+t(128|i>>>12&63)+t(128|i>>>6&63)+t(128|i&63))},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(n){return n.replace(w,p)},b=function(n){var i=[0,2,1][n.length%3],t=n.charCodeAt(0)<<16|(n.length>1?n.charCodeAt(1):0)<<8|(n.length>2?n.charCodeAt(2):0),u=[r.charAt(t>>>18),r.charAt(t>>>12&63),i>=2?"=":r.charAt(t>>>6&63),i>=1?"=":r.charAt(t&63)];return u.join("")},l=n.btoa?function(t){return n.btoa(t)}:function(n){return n.replace(/[\s\S]{1,3}/g,b)},a=function(n){var t=Object.prototype.toString.call(n)==="[object Uint8Array]";return t?n.toString("base64"):l(c(String(n)))},u=function(n,t){return t?a(String(n)).replace(/[+\/]/g,function(n){return n==="+"?"-":"_"}).replace(/=/g,""):a(n)},k=function(n){return u(n,!0)},d=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,g=function(n){switch(n.length){case 4:var r=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),i=r-65536;return t((i>>>10)+55296)+t((i&1023)+56320);case 3:return t((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return t((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},v=function(n){return n.replace(d,g)},nt=function(n){var i=n.length,e=i%4,r=(i>0?f[n.charAt(0)]<<18:0)|(i>1?f[n.charAt(1)]<<12:0)|(i>2?f[n.charAt(2)]<<6:0)|(i>3?f[n.charAt(3)]:0),u=[t(r>>>16),t(r>>>8&255),t(r&255)];return u.length-=[0,0,2,1][e],u.join("")},y=n.atob?function(t){return n.atob(t)}:function(n){return n.replace(/\S{1,4}/g,nt)},tt=function(n){return y(String(n).replace(/[^A-Za-z0-9\+\/]/g,""))},it=i?i.from&&Uint8Array&&i.from!==Uint8Array.from?function(n){return(n.constructor===i.constructor?n:i.from(n,"base64")).toString()}:function(n){return(n.constructor===i.constructor?n:new i(n,"base64")).toString()}:function(n){return v(y(n))},o=function(n){return it(String(n).replace(/[-_]/g,function(n){return n==="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},rt=function(){var t=n.Base64;return n.Base64=s,t};return n.Base64={VERSION:h,atob:tt,btoa:l,fromBase64:o,toBase64:u,utob:c,encode:u,encodeURI:k,btou:v,decode:o,noConflict:rt,__buffer__:i},typeof Object.defineProperty=="function"&&(e=function(n){return{value:n,enumerable:!1,writable:!0,configurable:!0}},n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",e(function(){return o(this)}));Object.defineProperty(String.prototype,"toBase64",e(function(n){return u(this,n)}));Object.defineProperty(String.prototype,"toBase64URI",e(function(){return u(this,!0)}))}),n.Meteor,typeof module!="undefined"&&module.exports?module.exports.Base64=n.Base64:typeof define=="function"&&define.amd&&define([],function(){return n.Base64}),{Base64:n.Base64}});